<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Notepad my own</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <style>
    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;

      background: rgba(242, 246, 248, 1);
      background: linear-gradient(
        to bottom,
        rgba(242, 246, 248, 1) 0%,
        rgba(216, 225, 231, 0.9) 23%,
        rgba(18, 52, 71, 0.7) 66%,
        rgba(224, 239, 249, 0.55) 100%
      );
    }
    main {
      width: 50vw;
    }

    /*# sourceMappingURL=gallery.css.map */
  </style>
  <body>
    <!-- div.green*5 dodaje 5 razy.
    także jak chcemy znalezc jakas konkretna funkcje w vs code to ctrl + p i wpisujemy ">" -->
    <!-- skrót - :html.5 -->
    <main>
      <div class="field">
        <div class="control">
          <textarea
            class="textarea is-danger"
            rows="10"
            placeholder="Wpisz coś w pole tekstowe"
          ></textarea>
        </div>
      </div>
      <ul></ul>
      <button class="button is-danger" id="save">Zapisz</button>
      <!-- onclick="alert`pokaż alert`"  - mozna do buttona dodac tu -->
      <!-- w jq mozna albo za pomoca element.on('eventname', function(){}) lub element.click(function(){}); -->
      <!-- w domie mamy keyboardEventy i mouseEvent - taka grupa eventów -->
      <button class="button is-primary" id="clear">Wyczyść</button>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // jak wrzuce taka linie do konsoli to zwroci mi to co on wyszukuje
        //   document.querySelector("button");

        const btnSave = document.querySelector("#save");
        //   można też tak:
        //   document.querySelectorAll("button")[1]; //wybiera pierwszy element z tablicy.
        //lepiej nie truc sobie zycia i uzywac poprostu querySelector  i wybierac standardowe selektory z css
        // jest taka biblioteka sizzlejs i ona pomaga przy dziwnych selektorach ale w jquery
        let textarea = document.querySelector("textarea");

        btnSave.onclick = function() {
          var li = document.createElement("li");
          var ul = document.querySelector("ul");

          localStorage.setItem("notepad", textarea.value);
          ul.appendChild(li);
          li.innerText = localStorage.getItem("notepad");
        };

        //odczyt wartosci przy ladowaniu strony
        //tu wklei nam nulla jak jest to pierwszy raz na stronie - bo wysletliloby zawartosc loaclStorage które jest puste w text area, wiec robimy warunek by dodawac textarea tylko jak bedzie rozna od nulla.. wiec trzeba zrobic warunek:
        if (localStorage.getItem("notepad") !== null) {
          //i uzupelnienie textare odczytana trescia
          textarea.value = localStorage.getItem("notepad");
          // li.innerText = textarea.value;
          li.innerHTML = localStorage.getItem("notepad");
        }
        //teraz usuwamy tekst z textarea________________
        let btnClear = document.querySelector("#clear");

        btnClear.onclick = function() {
          localStorage.removeItem("notepad");
          //wyczysc textarea
          textarea.value = "";
        };
        //____________________________________
      }); //end of domcontentloaded
    </script>
  </body>
</html>
